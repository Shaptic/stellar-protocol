## Preamble

```
SEP: 0014
Title: External Asset Metadata
Author: OrbitLens <orbit.lens@gmail.com>, Paul Tiplady <paul@qwil.com>, George Kudrayvtsev <george@stellar.org>
Track: Standard
Status: Draft
Created: 2018-09-30
Updated: 2022-03-03
Discussion: https://groups.google.com/forum/?utm_medium=email&utm_source=footer#!topic/stellar-dev/-S7FIXJAi2A
Version: 0.3.0
```

## Simple Summary

This SEP extends [SEP-1][sep1] and adds the support of the dynamic asset
metadata resolution. It describes a standard way to query asset metadata,
thereby allowing the issuer to deal with an unlimited number of assets without
defining each of them in the `stellar.toml` file.

## Motivation

The current [SEP-1][sep1] specification works excellently for issuers that
manage only a few assets. However, `stellar.toml` has a size limit of 100 KB,
effectively reducing the maximum possible number of assets to ~300 per file. At
present time, there is no standard way for the anchor to provide metadata for a
large number of assets issued by the same anchor. There are plenty of use-cases
that require issuing thousands of assets: bonds, securities, futures,
non-fungible tokens.

## Specification

To allow assets to be stored externally, we extend [SEP-1][sep1] to introduce the `CURRENCY_TOMLS` field, which must be an array of URLs to TOML files that follow the [SEP-1 currency specification][sep1-currency].

Example usage:

```toml
CURRENCY_TOMLS = [
  "https://example.com/.well-known/CURRENCIES_1.toml",
  "https://example.com/assets/CURRENCIES_2.toml",
  "https://example.com/CURRENCIES_3.toml"
]
```

Then, the `https://example.com/CURRENCIES_3.toml` could contain:

```toml
[[CURRENCIES]]
issuer="GAKZGD5BFXZ7P7P45WHTM6DODMOEWWJUSCAIPGYIVIPYQSVR6MM6YR7M"
code="DEMOASSET"
name="A nice demo currency for SEP-14"
```

This new field must be completely compatible with having existing `[[CURRENCIES]]` table entries within the `stellar.toml` file. The externalized TOML files must only include `[[CURRENCIES]]` entries. All other fields must be considered invalid.

Handling duplicate entries (i.e. colliding `issuer` and `code` fields) is left to the discretion of the parser.


## Design Rationale

Such minimalistic design provides simple and convenient interface for exchanges,
wallets, infrastructure apps, and external services.

## Security Concerns

Asset issuers should encourage user trust by putting their `stellar.toml` and
any externalized asset descriptions under the same domain. Placing them under
separate domains may call into question control and integrity of the currency
metadata therein.


[sep1]: ../ecosystem/sep-0001.md
[sep1-currency]: ../ecosystem/sep-0001.md#currency-documentation
